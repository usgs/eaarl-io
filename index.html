<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>eaarl-io: EAARL Input/Output Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">eaarl-io
   &#160;<span id="projectnumber">1.0.0+33ac633</span>
   </div>
   <div id="projectbrief">EAARL Input/Output Library (Public API)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">EAARL Input/Output Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This library provides a C API that you can use within your own programs for I/O access to raw data collected by the EAARL-A and EAARL-B lidar systems. As such, the primary intended audience for this library are users who are need to add EAARL I/O capabilities to their existing applications.</p>
<p>A few small standalone utility programs are also included that can be used to inspect EAARL data. One of the program exports the data as YAML, a common human-readable data format. This provides users another avenue for getting EAARL data into their existing applications.</p>
<p>The EAARL sensors were operational between 2001 and 2014. This library is part of a final effort to make EAARL data acquisitions more accessible to the public. The USGS has no plans for further development or support of EAARL or of its associated software (including this library).</p>
<h2>File Formats</h2>
<p>There are two file formats: TLD and EDB. The TLD files contain the raw waveform data. The EDB file is an index file that is generated to facilitate easy lookup of individual raster records and also defines the raster numbers of those records. The structure of these files are described at <a class="el" href="md_tld_format.html">TLD File Format</a> and <a class="el" href="md_edb_format.html">EDB File Format</a>.</p>
<h2>Library Usage</h2>
<p>The primary intended use case for this library is to support reading raster data from TLD files that have an existing EDB index file. Several examples are included to illustrate this use case:</p>
<ul>
<li><a class="el" href="example_flight_read_rasters_8c-example.html">example_flight_read_rasters.c</a> shows how to open a dataset using <a class="el" href="file_8h.html#af2f4a0049e65aa76c228768509466683" title="Open an eaarlio_flight using normal files. ">eaarlio_file_flight</a> and then read multiple rasters in any arbitrary order using <a class="el" href="flight_8h.html#a44607c75a5551ccb8402bec5323f8673" title="Retrieve data for a raster. ">eaarlio_flight_read_raster</a>. It also provides an example of reading just the raster headers (excluding the pulse and waveform data) which is much faster if you only need access to fields from the header.</li>
<li><a class="el" href="example_flight_read_raster_pulse_8c-example.html">example_flight_read_raster_pulse.c</a> is similar, except it provides an example of loading a full raster with its pulse and waveform data instead.</li>
<li><a class="el" href="eaarlio_yaml_8c-example.html">eaarlio_yaml.c</a> provides a more involved and robust example of using the same functionality. This is the source code for the included eaarlio_yaml program.</li>
</ul>
<p>For other use cases, please refer to the rest of the library API documentation and the other included examples.</p>
<h3>Data Structures</h3>
<p>The library defines 9 different data structures. They can be broken out into four categories.</p>
<ul>
<li>Structures for data from TLD files (raw waveform data):<ul>
<li><a class="el" href="tld_8h.html#structeaarlio__tld__header" title="TLD record header. ">eaarlio_tld_header</a>, a record header in the TLD file</li>
<li><a class="el" href="raster_8h.html#structeaarlio__raster" title="EAARL raster record. ">eaarlio_raster</a>, the data for a single raster from a TLD file</li>
<li><a class="el" href="pulse_8h.html#structeaarlio__pulse" title="EAARL pulse record. ">eaarlio_pulse</a>, the data for a single pulse in a raster</li>
</ul>
</li>
<li>Structures for data from EDB files (index data):<ul>
<li><a class="el" href="edb_8h.html#structeaarlio__edb" title="EDB index data. ">eaarlio_edb</a>, the contents of an EDB file</li>
<li><a class="el" href="edb_8h.html#structeaarlio__edb__record" title="EDB record. ">eaarlio_edb_record</a>, a record entry corresponding to an indexed raster</li>
</ul>
</li>
<li>Structures for accessing data:<ul>
<li><a class="el" href="flight_8h.html#structeaarlio__flight" title="Flight data. ">eaarlio_flight</a>, which supports reading rasters from an indexed dataset via raster number</li>
<li><a class="el" href="structeaarlio__stream.html" title="Stream interface. ">eaarlio_stream</a>, which supports read/write access to storage such as files</li>
<li><a class="el" href="structeaarlio__tld__opener.html" title="TLD file opener interface. ">eaarlio_tld_opener</a>, which supports opening a stream for given a TLD file name</li>
</ul>
</li>
<li>Structure for memory management:<ul>
<li><a class="el" href="structeaarlio__memory.html" title="Memory handler structure. ">eaarlio_memory</a>, which allows you to use define your own memory allocation functions if you do not want to use the C standard library implementation</li>
</ul>
</li>
</ul>
<p>However, for the primary use case of reading raster data using <a class="el" href="file_8h.html#af2f4a0049e65aa76c228768509466683" title="Open an eaarlio_flight using normal files. ">eaarlio_file_flight</a> and <a class="el" href="flight_8h.html#a44607c75a5551ccb8402bec5323f8673" title="Retrieve data for a raster. ">eaarlio_flight_read_raster</a>, you'll only need to be familiar with 3 structures: <a class="el" href="raster_8h.html#structeaarlio__raster" title="EAARL raster record. ">eaarlio_raster</a>, <a class="el" href="pulse_8h.html#structeaarlio__pulse" title="EAARL pulse record. ">eaarlio_pulse</a>, and <a class="el" href="flight_8h.html#structeaarlio__flight" title="Flight data. ">eaarlio_flight</a>.</p>
<p>In addition to the structures, the library also defines an enum for error codes: <a class="el" href="error_8h.html#ab521cfac8459159183fdbe58c1db55da">eaarlio_error</a>. Most library functions will return an <a class="el" href="error_8h.html#ab521cfac8459159183fdbe58c1db55da">eaarlio_error</a>, where <a class="el" href="error_8h.html#ab521cfac8459159183fdbe58c1db55daa4c3965102c848b57a126739947d2d321" title="Success (no error was encountered) ">EAARLIO_SUCCESS</a> means the function worked as expected and anything else indicates that it failed in some way. Refer to <a class="el" href="example_errors_8c-example.html">example_errors.c</a> for examples of working with error codes.</p>
<h2>Program Usage</h2>
<p>The library comes with three utility programs:</p>
<ul>
<li><b>eaarlio_edb_create</b> allows you to create an EDB index file for a set of TLD files.</li>
<li><b>eaarlio_edb_offset</b> allows you to check or change the time offset applied to an EDB file.</li>
<li><b>eaarlio_yaml</b> allows you to export selected raster data in YAML format.</li>
</ul>
<p>For usage on each, run the command with the "-h" option. For example, <code>eaarlio_edb_create -h</code>.</p>
<h2>Building</h2>
<p>You will need <a href="https://cmake.org">CMake</a> to generate build files for your platform. CMake is used to support cross-platform build configuration.</p>
<p>The primary target platforms tested and developed against are:</p><ul>
<li>Linux using gcc and make</li>
<li>Windows using Visual Studio 2015</li>
</ul>
<p>However, the library is also known to compile on these platforms:</p><ul>
<li>Linux using clang and make</li>
<li>Windows under cygwin using gcc and make</li>
<li>Windows under MinGW using gcc and make</li>
</ul>
<h3>Linux with gcc and make</h3>
<p>The basic steps to compile on Linux using gcc and make:</p>
<div class="fragment"><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake .. -DCMAKE_BUILD_TYPE=Release</div><div class="line">make</div></div><!-- fragment --><h3>Windows with Visual Studio 2015</h3>
<p>The basic steps to compile on Windows using Visual Studio 2015:</p>
<ol type="1">
<li>Launch the CMake GUI<ol type="a">
<li>Select the source code directory ("Where is the source code:")</li>
<li>Select a separate directory for the build ("Where to build the binaries:")</li>
<li>Click "Configure"</li>
<li>Choose your version of Visual Studio under "Specify the generator for this project"</li>
<li>Leave "Use default native compilers" enabled</li>
<li>Click "Finish"</li>
<li>If you plan to install the software, check that CMAKE_INSTALL_PREFIX is set to the destination directory you want to use.</li>
<li>Click "Generate"</li>
</ol>
</li>
<li>Launch Visual Studio 2015<ol type="a">
<li>File &gt; Open &gt; Project/Solution and select the EAARLIO.sln file in the build directory.</li>
<li>In the Solution Explorer, right-click on ALL_BUILD and select Build.</li>
</ol>
</li>
</ol>
<h3>Build Targets</h3>
<p>The default build target will compile the library and the utility programs. Other build targets are available:</p>
<table class="doxtable">
<tr>
<th>Make </th><th>Visual Studio </th><th>Purpose  </th></tr>
<tr>
<td>all </td><td>ALL_BUILD </td><td>Default; build library and programs </td></tr>
<tr>
<td>eaarlio </td><td>eaarlio </td><td>Build just the library </td></tr>
<tr>
<td>programs </td><td>programs/programs </td><td>Build just the programs </td></tr>
<tr>
<td>examples </td><td>examples/examples </td><td>Build the examples </td></tr>
<tr>
<td>install </td><td>INSTALL </td><td>Install the library and programs </td></tr>
<tr>
<td>test </td><td>RUN_TESTS </td><td>Run the test suite; see <a class="el" href="md_testing.html">Testing</a> </td></tr>
<tr>
<td>check </td><td>tests/check </td><td>Run the test suite; see <a class="el" href="md_testing.html">Testing</a> </td></tr>
<tr>
<td>doc </td><td>doc </td><td>Build the public API documentation; requires Doxygen </td></tr>
<tr>
<td>dev-doc </td><td>dev-doc </td><td>Build the internal developer documentation; requires Doxygen </td></tr>
</table>
<h2>License</h2>
<p>This software is licensed under <a href="http://creativecommons.org/publicdomain/zero/1.0/">CC0 1.0</a> and is in the <a href="https://en.wikipedia.org/wiki/Public_domain">public domain</a> because it contains materials that originally came from the <a href="https://www.usgs.gov/">U.S. Geological Survey (USGS)</a>, an agency of the <a href="https://www.doi.gov/">United States Department of Interior</a>. For more information, see the <a href="http://www.usgs.gov/visual-id/credit_usgs.html#copyright/">official USGS copyright policy</a>.</p>
<h2>Disclaimer</h2>
<p>This software is preliminary or provisional and is subject to revision. It is being provided to meet the need for timely best science. The software has not received final approval by the U.S. Geological Survey (USGS). No warranty, expressed or implied, is made by the USGS or the U.S. Government as to the functionality of the software and related material nor shall the fact of release constitute any such warranty. The software is provided on the condition that neither the USGS nor the U.S. Government shall be held liable for any damages resulting from the authorized or unauthorized use of the software.</p>
<p>The USGS provides no warranty, expressed or implied, as to the correctness of the furnished software or the suitability for any purpose. The software has been tested, but as with any complex software, there could be undetected errors. Users who find errors are requested to report them to the USGS.</p>
<p>References to non-USGS products, trade names, and (or) services are provided for information purposes only and do not constitute endorsement or warranty, express or implied, by the USGS, U.S. Department of Interior, or U.S. Government, as to their suitability, content, usefulness, functioning, completeness, or accuracy.</p>
<p>Although this program has been used by the USGS, no warranty, expressed or implied, is made by the USGS or the United States Government as to the accuracy and functioning of the program and related program material nor shall the fact of distribution constitute any such warranty, and no responsibility is assumed by the USGS in connection therewith.</p>
<p>This software is provided "AS IS." </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
